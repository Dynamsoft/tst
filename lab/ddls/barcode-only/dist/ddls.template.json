{
  "CaptureVisionTemplates": [
    {
      "Name": "DL_detect",
      "ImageROIProcessingNameArray": ["roi-detect-document-boundaries", "roi_dl_all"],
      "SemanticProcessingNameArray": ["sp_dl_all"],
      "OutputOriginalImage": 1
    },
    {
      "Name": "DL_normalize",
      "ImageROIProcessingNameArray": ["roi-normalize-document"]
    },
    {
      "Name": "DL_barcode",
      "ImageROIProcessingNameArray": ["roi_dl_all"],
      "SemanticProcessingNameArray": ["sp_dl_all"],
      "OutputOriginalImage": 1
    }
  ],
  "TargetROIDefOptions": [
    {
      "Name": "roi-detect-document-boundaries",
      "TaskSettingNameArray": ["task-detect-document-boundaries"]
    },
    {
      "Name": "roi-normalize-document",
      "TaskSettingNameArray": ["task-normalize-document"]
    },
    {
      "Name": "roi_dl_all",
      "TaskSettingNameArray": ["task_dl_all"]
    }
  ],
  "DocumentNormalizerTaskSettingOptions": [
    {
      "Name": "task-detect-document-boundaries",
      "SectionArray": [
        {
          "Section": "ST_REGION_PREDETECTION",
          "ImageParameterName": "ip-detect",
          "StageArray": [
            {
              "Stage": "SST_PREDETECT_REGIONS"
            }
          ]
        },
        {
          "Section": "ST_DOCUMENT_DETECTION",
          "ContentType": "CT_DOCUMENT",
          "ImageParameterName": "ip-detect",
          "StageArray": [
            {
              "Stage": "SST_ASSEMBLE_LONG_LINES"
            },
            {
              "Stage": "SST_ASSEMBLE_LOGICAL_LINES"
            },
            {
              "Stage": "SST_DETECT_CORNERS",
              "CornerAngleRange": {
                "MinValue": 80,
                "MaxValue": 100
              }
            },
            {
              "Stage": "SST_DETECT_EDGES"
            },
            {
              "Stage": "SST_DETECT_QUADS",
              "QuadrilateralDetectionModes": [
                {
                  "Mode": "QDM_GENERAL"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "Name": "task-normalize-document",
      "SectionArray": [
        {
          "Section": "ST_DOCUMENT_DESKEWING",
          "ImageParameterName": "ip-normalize",
          "StageArray": [
            {
              "Stage": "SST_DESKEW_IMAGE"
            }
          ]
        },
        {
          "Section": "ST_IMAGE_ENHANCEMENT",
          "ImageParameterName": "ip-normalize",
          "StageArray": [
            {
              "Stage": "SST_ENHANCE_IMAGE"
            }
          ]
        }
      ]
    }
  ],
  "BarcodeFormatSpecificationOptions": [
    {
      "BarcodeFormatIds": [
        "BF_PDF417",
        "BF_QR_CODE",
        "BF_DATAMATRIX",
        "BF_AZTEC",
        "BF_MICRO_QR",
        "BF_MICRO_PDF417",
        "BF_DOTCODE"
      ],
      "MirrorMode": "MM_BOTH",
      "Name": "bfs1"
    },
    {
      "Name": "bfs2"
    },
    {
      "BaseBarcodeFormatSpecification": "bfs1",
      "Name": "bfs1-dense"
    },
    {
      "BaseBarcodeFormatSpecification": "bfs2",
      "Name": "bfs2-dense"
    }
  ],
  "BarcodeReaderTaskSettingOptions": [
    {
      "Name": "task_dl_all",
      "BarcodeFormatIds": ["BF_PDF417"],
      "ExpectedBarcodesCount": 1,
      "BarcodeFormatSpecificationNameArray": ["bfs1-dense", "bfs2-dense"],
      "SectionArray": [
        {
          "ImageParameterName": "ip-read-barcodes-dense",
          "Section": "ST_REGION_PREDETECTION",
          "StageArray": [
            {
              "Stage": "SST_PREDETECT_REGIONS"
            }
          ]
        },
        {
          "ImageParameterName": "ip-read-barcodes-dense",
          "Section": "ST_BARCODE_LOCALIZATION",
          "StageArray": [
            {
              "LocalizationModes": [
                {
                  "Mode": "LM_CONNECTED_BLOCKS"
                },
                {
                  "Mode": "LM_LINES"
                }
              ],
              "Stage": "SST_LOCALIZE_CANDIDATE_BARCODES"
            },
            {
              "Stage": "SST_LOCALIZE_BARCODES"
            }
          ]
        },
        {
          "ImageParameterName": "ip-read-barcodes-dense",
          "Section": "ST_BARCODE_DECODING",
          "StageArray": [
            {
              "Stage": "SST_RESIST_DEFORMATION"
            },
            {
              "Stage": "SST_COMPLEMENT_BARCODE"
            },
            {
              "Stage": "SST_SCALE_BARCODE_IMAGE"
            },
            {
              "DeblurModes": [
                {
                  "Mode": "DM_BASED_ON_LOC_BIN"
                },
                {
                  "Mode": "DM_THRESHOLD_BINARIZATION"
                },
                {
                  "Mode": "DM_DIRECT_BINARIZATION"
                },
                {
                  "Mode": "DM_SMOOTHING"
                },
                {
                  "Mode": "DM_GRAY_EQUALIZATION"
                }
              ],
              "Stage": "SST_DECODE_BARCODES"
            }
          ]
        }
      ]
    }
  ],
  "ImageParameterOptions": [
    {
      "Name": "ip-detect",
      "ApplicableStages": [
        {
          "Stage": "SST_SCALE_IMAGE",
          "ImageScaleSetting": {
            "ScaleType": "ST_SCALE_DOWN",
            "ReferenceEdge": "RE_SHORTER_EDGE",
            "EdgeLengthThreshold": 1000
          }
        },
        {
          "Stage": "SST_CONVERT_TO_GRAYSCALE",
          "ColourConversionModes": [
            {
              "Mode": "CICM_GENERAL"
            },
            {
              "Mode": "CICM_EDGE_ENHANCEMENT"
            },
            {
              "Mode": "CICM_HSV",
              "ReferChannel": "H_CHANNEL"
            }
          ]
        },
        {
          "Stage": "SST_BINARIZE_IMAGE",
          "BinarizationModes": [
            {
              "Mode": "BM_LOCAL_BLOCK",
              "BlockSizeX": 25,
              "BlockSizeY": 25,
              "EnableFillBinaryVacancy": 0,
              "ThresholdCompensation": 5
            }
          ]
        },
        {
          "Stage": "SST_BINARIZE_TEXTURE_REMOVED_GRAYSCALE",
          "BinarizationModes": [
            {
              "Mode": "BM_LOCAL_BLOCK",
              "BlockSizeX": 25,
              "BlockSizeY": 25,
              "EnableFillBinaryVacancy": 0,
              "ThresholdCompensation": 5
            }
          ]
        },
        {
          "Stage": "SST_DETECT_TEXT_ZONES",
          "TextDetectionMode": {
            "Mode": "TTDM_WORD",
            "Direction": "HORIZONTAL",
            "Sensitivity": 7
          }
        },
        {
          "Stage": "SST_DETECT_TEXTURE",
          "TextureDetectionModes": [
            {
              "Mode": "TDM_GENERAL_WIDTH_CONCENTRATION",
              "Sensitivity": 8
            }
          ]
        }
      ]
    },
    {
      "Name": "ip-normalize",
      "ApplicableStages": [
        {
          "Stage": "SST_BINARIZE_IMAGE",
          "BinarizationModes": [
            {
              "Mode": "BM_LOCAL_BLOCK",
              "BlockSizeX": 0,
              "BlockSizeY": 0,
              "EnableFillBinaryVacancy": 0
            }
          ]
        },
        {
          "Stage": "SST_BINARIZE_TEXTURE_REMOVED_GRAYSCALE",
          "BinarizationModes": [
            {
              "Mode": "BM_LOCAL_BLOCK",
              "BlockSizeX": 0,
              "BlockSizeY": 0,
              "EnableFillBinaryVacancy": 0
            }
          ]
        },
        {
          "Stage": "SST_DETECT_TEXT_ZONES",
          "TextDetectionMode": {
            "Mode": "TTDM_WORD",
            "Direction": "HORIZONTAL",
            "Sensitivity": 7
          }
        }
      ]
    },
    {
      "ApplicableStages": [
        {
          "Stage": "SST_INPUT_COLOR_IMAGE"
        },
        {
          "ImageScaleSetting": {
            "EdgeLengthThreshold": 100000,
            "ScaleType": "ST_SCALE_DOWN"
          },
          "Stage": "SST_SCALE_IMAGE"
        },
        {
          "Stage": "SST_CONVERT_TO_GRAYSCALE"
        },
        {
          "Stage": "SST_TRANSFORM_GRAYSCALE"
        },
        {
          "Stage": "SST_ENHANCE_GRAYSCALE"
        },
        {
          "Stage": "SST_BINARIZE_IMAGE"
        },
        {
          "Stage": "SST_DETECT_TEXTURE"
        },
        {
          "Stage": "SST_REMOVE_TEXTURE_FROM_GRAYSCALE"
        },
        {
          "Stage": "SST_BINARIZE_TEXTURE_REMOVED_GRAYSCALE"
        },
        {
          "Stage": "SST_FIND_CONTOURS"
        },
        {
          "Stage": "SST_DETECT_SHORTLINES"
        },
        {
          "Stage": "SST_ASSEMBLE_LINES"
        },
        {
          "Stage": "SST_DETECT_TEXT_ZONES"
        },
        {
          "Stage": "SST_REMOVE_TEXT_ZONES_FROM_BINARY"
        }
      ],
      "Name": "ip-read-barcodes-dense"
    }
  ],
  "SemanticProcessingOptions": [
    {
      "Name": "sp_dl_all",
      "ReferenceObjectFilter": {
        "ReferenceTargetROIDefNameArray": ["roi_dl_all"]
      },
      "TaskSettingNameArray": ["dcp_dl_all"]
    }
  ],
  "CodeParserTaskSettingOptions": [
    {
      "Name": "dcp_dl_all",
      "CodeSpecifications": ["AAMVA_DL_ID", "AAMVA_DL_ID_WITH_MAG_STRIPE", "SOUTH_AFRICA_DL"]
    }
  ]
}
